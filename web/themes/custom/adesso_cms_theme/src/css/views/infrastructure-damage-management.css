/**
 * Infrastructure Damage Management View Styling
 * GPZH Municipal Portal - Workflow Management Interface
 */

/* Main Infrastructure Management Container */
.infrastructure-damage-management {
  @apply bg-white rounded-lg shadow-sm;
}

/* Header Section with Statistics */
.infrastructure-management-header {
  @apply bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-t-lg mb-6 border-b border-blue-200;
}

.stats-summary {
  @apply grid grid-cols-2 md:grid-cols-4 gap-4 mb-4;
}

.stat-item {
  @apply text-center p-3 bg-white rounded-lg shadow-sm;
}

.stat-label {
  @apply block text-sm font-medium text-gray-600 mb-1;
}

.stat-value {
  @apply block text-2xl font-bold text-gray-900;
}

.stat-value.stat-new {
  @apply text-blue-600;
}

.stat-value.stat-progress {
  @apply text-orange-600;
}

.stat-value.stat-urgent {
  @apply text-red-600;
}

.management-actions {
  @apply flex flex-wrap gap-3 justify-center md:justify-end;
}

.management-actions .button {
  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150;
}

.management-actions .button:not(.button--primary) {
  @apply bg-gray-600 hover:bg-gray-700 focus:ring-gray-500;
}

/* Status Badges */
.status-badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

.status-badge.status-new {
  @apply bg-blue-100 text-blue-800;
}

.status-badge.status-in_progress {
  @apply bg-orange-100 text-orange-800;
}

.status-badge.status-completed {
  @apply bg-green-100 text-green-800;
}

.status-badge.status-rejected {
  @apply bg-red-100 text-red-800;
}

/* Severity Badges */
.severity-badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border;
}

.severity-badge.severity-niedrig {
  @apply bg-green-50 text-green-700 border-green-200;
}

.severity-badge.severity-mittel {
  @apply bg-yellow-50 text-yellow-700 border-yellow-200;
}

.severity-badge.severity-hoch {
  @apply bg-orange-50 text-orange-700 border-orange-200;
}

.severity-badge.severity-notfall {
  @apply bg-red-50 text-red-700 border-red-200;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

/* Table Styling */
.infrastructure-damage-management table {
  @apply w-full bg-white shadow-sm rounded-lg overflow-hidden;
}

.infrastructure-damage-management thead th {
  @apply bg-gray-50 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200;
}

.infrastructure-damage-management tbody td {
  @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900 border-b border-gray-100;
}

.infrastructure-damage-management tbody tr:hover {
  @apply bg-gray-50;
}

/* Submission Link Styling */
.submission-link {
  @apply text-blue-600 hover:text-blue-800 font-medium transition-colors duration-150;
}

.submission-link:hover {
  @apply underline;
}

/* Operations Column */
.infrastructure-damage-management .views-field-operations {
  @apply text-center;
}

.infrastructure-damage-management .dropbutton-wrapper {
  @apply inline-flex;
}

.infrastructure-damage-management .dropbutton {
  @apply bg-white border border-gray-300 rounded-md shadow-sm;
}

.infrastructure-damage-management .dropbutton .dropbutton-action > * {
  @apply px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-0;
}

/* Filter Form Styling */
.view-filters {
  @apply bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200;
}

.view-filters .form-item {
  @apply mb-4 md:mb-0;
}

.view-filters .form-item label {
  @apply block text-sm font-medium text-gray-700 mb-1;
}

.view-filters .form-select,
.view-filters .form-text {
  @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm;
}

.view-filters .form-actions {
  @apply flex gap-3 mt-4;
}

.view-filters .form-submit {
  @apply inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
}

.view-filters .form-submit[value*="zur√ºcksetzen"],
.view-filters .form-submit[value*="reset"] {
  @apply bg-gray-600 hover:bg-gray-700 focus:ring-gray-500;
}

/* Exposed Sort Styling */
.view-header .views-exposed-form {
  @apply bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6;
}

.views-exposed-form .views-exposed-widget {
  @apply inline-block mr-4;
}

/* Empty View Styling */
.empty-infrastructure-view {
  @apply text-center py-12 px-4;
}

.empty-infrastructure-view h3 {
  @apply text-lg font-medium text-gray-900 mb-2;
}

.empty-infrastructure-view p {
  @apply text-gray-600 mb-4;
}

.empty-infrastructure-view .button {
  @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
}

/* Dashboard Block Styling */
.infrastructure-dashboard-list {
  @apply space-y-3;
}

.damage-report-item {
  @apply bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-150;
}

/* Responsive Design */
@media (max-width: 768px) {
  .infrastructure-management-header {
    @apply p-4;
  }
  
  .stats-summary {
    @apply grid-cols-2 gap-3;
  }
  
  .stat-item {
    @apply p-2;
  }
  
  .stat-value {
    @apply text-xl;
  }
  
  .management-actions {
    @apply justify-center;
  }
  
  .infrastructure-damage-management table {
    @apply text-xs;
  }
  
  .infrastructure-damage-management thead th,
  .infrastructure-damage-management tbody td {
    @apply px-3 py-2;
  }
}

/* Print Styling */
@media print {
  .infrastructure-management-header,
  .view-filters,
  .management-actions,
  .infrastructure-damage-management .views-field-operations {
    @apply hidden;
  }
  
  .infrastructure-damage-management table {
    @apply shadow-none;
  }
  
  .status-badge,
  .severity-badge {
    @apply border border-gray-400 text-black bg-white;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  .status-badge,
  .severity-badge {
    @apply border-2 font-bold;
  }
  
  .infrastructure-damage-management tbody tr:hover {
    @apply bg-gray-200;
  }
}

/* Accessibility Enhancements */
.infrastructure-damage-management tbody tr:focus-within {
  @apply bg-blue-50 outline outline-2 outline-blue-500 outline-offset-2;
}

.submission-link:focus {
  @apply outline outline-2 outline-blue-500 outline-offset-2;
}

/* Swiss Color Scheme Integration */
.municipality-bruchtal .infrastructure-damage-management {
  --primary-color: #0891b2;
  --primary-light: #67e8f9;
  --primary-dark: #164e63;
}

.municipality-bruchtal .management-actions .button--primary {
  @apply bg-cyan-600 hover:bg-cyan-700 focus:ring-cyan-500;
}

.municipality-bruchtal .stat-value.stat-new {
  @apply text-cyan-600;
}

.municipality-bruchtal .submission-link {
  @apply text-cyan-600 hover:text-cyan-800;
}

/* Loading State */
.infrastructure-damage-management.is-loading {
  @apply opacity-50 pointer-events-none;
}

.infrastructure-damage-management.is-loading::after {
  content: '';
  @apply absolute inset-0 bg-white/75 flex items-center justify-center;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='10' stroke='currentColor' stroke-width='4' class='opacity-25'%3E%3C/circle%3E%3Cpath fill='currentColor' d='M4 12a8 8 0 018-8v8H4z' class='opacity-75'%3E%3C/path%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 2rem;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}