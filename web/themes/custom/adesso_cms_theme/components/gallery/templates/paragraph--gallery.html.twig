{# /** 
 * @file 
 * Gallery paragraph template using paragraph-wrapper component with embed pattern. 
 */ #}

{# Gallery paragraph configuration #}
{% set wrapper_theme = paragraph.field_theme.value|default('default') %}
{% set wrapper_spacing = paragraph.field_spacing.value|default('medium') %}
{% set wrapper_tag = 'section' %}
{% set wrapper_css_class = [
  'paragraph', 
  'paragraph--type--' ~ paragraph.bundle|clean_class, 
  view_mode ? 'paragraph--view-mode--' ~ view_mode|clean_class, 
  not paragraph.isPublished() ? 'paragraph--unpublished' 
]|join(' ') %}

{# Embed the paragraph-wrapper component using slots #}
{% embed 'adesso_cms_theme:paragraph-wrapper' with { 
  theme: wrapper_theme, 
  spacing: wrapper_spacing, 
  tag: wrapper_tag, 
  className: wrapper_css_class, 
  attributes: attributes 
} %}
  {% block prefix %}{% endblock %}
  
  {% block content %}
    {% embed 'adesso_cms_theme:gallery' with { 
      is_dark: wrapper_theme == 'dark' 
    } only %}
      {% block title %}{{ content.field_title }}{% endblock %}
      {% block pre_headline %}{{ content.field_pre_headline }}{% endblock %}
      {% block gallery_items %}{{ content.field_media_item }}{% endblock %}
    {% endembed %}
  {% endblock %}
{% endembed %}
