{#
/**
 * @file
 * Theme override for fields in Firmen view.
 * Compact list layout for directory content.
 */
#}

{# Horizontal card layout #}
<div class="flex items-start space-x-4 p-6">
  
  {# Logo section #}
  <div class="flex-shrink-0">
    {% if fields.field_logo and fields.field_logo.content|striptags|trim %}
      <img class="h-16 w-16 object-cover rounded-lg bg-gray-100 shadow-sm" 
           src="{{ fields.field_logo.content|striptags|trim }}" 
           alt="{{ fields.title.content|striptags|trim }} Logo">
    {% else %}
      <div class="h-16 w-16 bg-gray-200 rounded-lg flex items-center justify-center">
        <svg class="h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
        </svg>
      </div>
    {% endif %}
  </div>

  {# Content section #}
  <div class="flex-1 min-w-0">
    <div class="flex items-start justify-between">
      
      {# Main info #}
      <div class="flex-1 min-w-0 pr-4">
        <div class="flex items-center space-x-2 mb-2">
          <h3 class="text-lg font-semibold text-gray-900 truncate">
            {% if fields.title and fields.title.content %}
              {{ fields.title.content|striptags|trim }}
            {% endif %}
          </h3>
          
          {# Verification badge #}
          {% if fields.field_verified and fields.field_verified.content|striptags|trim == '1' %}
            <span class="inline-flex items-center rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800">
              <svg class="mr-1 h-3 w-3" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
              Verifiziert
            </span>
          {% endif %}
        </div>
        
        {# Category #}
        {% if fields.field_directory_category and fields.field_directory_category.content|striptags|trim %}
          <div class="mb-2">
            <span class="inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800">
              {{ fields.field_directory_category.content|striptags|trim }}
            </span>
          </div>
        {% endif %}
        
        {# Description #}
        {% if fields.field_description and fields.field_description.content|striptags|trim %}
          <p class="text-sm text-gray-600 line-clamp-2 mb-3">
            {{ fields.field_description.content|striptags|trim }}
          </p>
        {% endif %}
        
        {# Contact info in compact format #}
        <div class="flex flex-wrap items-center gap-4 text-sm text-gray-500">
          {% if fields.field_phone and fields.field_phone.content|striptags|trim %}
            <a href="tel:{{ fields.field_phone.content|striptags|trim }}" 
               class="flex items-center hover:text-gray-700 transition-colors">
              <svg class="mr-1 h-4 w-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              {{ fields.field_phone.content|striptags|trim }}
            </a>
          {% endif %}

          {% if fields.field_email and fields.field_email.content|striptags|trim %}
            <a href="mailto:{{ fields.field_email.content|striptags|trim }}" 
               class="flex items-center hover:text-gray-700 transition-colors truncate">
              <svg class="mr-1 h-4 w-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
              {{ fields.field_email.content|striptags|trim }}
            </a>
          {% endif %}

          {% if fields.field_website and fields.field_website.content|striptags|trim %}
            <a href="{{ fields.field_website.content|striptags|trim }}" target="_blank" rel="noopener noreferrer" 
               class="flex items-center hover:text-gray-700 transition-colors">
              <svg class="mr-1 h-4 w-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
              </svg>
              Website
            </a>
          {% endif %}
        </div>
      </div>
      
      {# Social media links #}
      <div class="flex items-center space-x-2 flex-shrink-0">
        {% if fields.field_social_media_linkedin and fields.field_social_media_linkedin.content|striptags|trim %}
          <a href="{{ fields.field_social_media_linkedin.content|striptags|trim }}" 
             target="_blank" rel="noopener noreferrer" 
             class="text-gray-400 hover:text-blue-600 transition-colors">
            <span class="sr-only">LinkedIn</span>
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
        {% endif %}

        {% if fields.field_social_media_facebook and fields.field_social_media_facebook.content|striptags|trim %}
          <a href="{{ fields.field_social_media_facebook.content|striptags|trim }}" 
             target="_blank" rel="noopener noreferrer" 
             class="text-gray-400 hover:text-blue-600 transition-colors">
            <span class="sr-only">Facebook</span>
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
        {% endif %}

        {% if fields.field_social_media_instagram and fields.field_social_media_instagram.content|striptags|trim %}
          <a href="{{ fields.field_social_media_instagram.content|striptags|trim }}" 
             target="_blank" rel="noopener noreferrer" 
             class="text-gray-400 hover:text-pink-500 transition-colors">
            <span class="sr-only">Instagram</span>
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.151 14.81 3.67 13.549 3.67 12.017c0-1.532.48-2.793 1.456-3.674.875-.807 2.026-1.297 3.323-1.297 1.297 0 2.448.49 3.323 1.297.975.88 1.456 2.142 1.456 3.674 0 1.532-.48 2.793-1.456 3.674-.875.807-2.026 1.297-3.323 1.297zm7.74 0c-1.297 0-2.448-.49-3.323-1.297-.975-.88-1.456-2.142-1.456-3.674 0-1.532.48-2.793 1.456-3.674.875-.807 2.026-1.297 3.323-1.297 1.297 0 2.448.49 3.323 1.297.975.88 1.456 2.142 1.456 3.674 0 1.532-.48 2.793-1.456 3.674-.875.807-2.026 1.297-3.323 1.297z"/>
            </svg>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>