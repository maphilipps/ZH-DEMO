# Planning Lane - Strategic Architecture Decisions

## Design Principles
- User-first architecture: Accessibility and data protection from ground up
- Multi-municipal scalability: Design for 160+ municipalities from day one
- Compounding engineering: Every decision creates reusable patterns
- Demo-driven development: 35-minute presentation drives all priorities

## System-Wide Rules
- All forms MUST include workflow approval architecture
- Performance targets: Core Web Vitals >90, <2s load time
- Accessibility: WCAG 2.1 AA compliance
- Multi-site: Independent municipal theming required

## Architectural Decisions

### ADR-001: Multi-Site Drupal Architecture
**Decision**: Single Drupal 11.2.2 instance with multi-site configuration
**Reasoning**: Cost efficiency, maintenance simplicity, shared security updates
**Alternatives Considered**: Separate instances, containerized approach
**Status**: Approved

### ADR-002: Frontend Technology Stack
**Decision**: Vite 6.2 + Tailwind v4 + Alpine.js
**Reasoning**: Modern development experience, Swiss accessibility compliance, performance
**Alternatives Considered**: Webpack + Bootstrap, Next.js + Drupal headless
**Status**: Approved

### ADR-003: AI Integration Strategy
**Decision**: OpenAI GPT-4o server-side integration
**Reasoning**: Swiss data protection compliance, content quality, cost control
**Alternatives Considered**: Client-side integration, other AI providers
**Status**: Approved

### ADR-004: Component Architecture
**Decision**: SDC (Single Directory Components) with Storybook
**Reasoning**: Municipal theming flexibility, developer experience, documentation
**Alternatives Considered**: Traditional theme functions, React components
**Status**: Approved

### ADR-005: Swiss Compliance Approach
**Decision**: Compliance-first development with automated validation
**Reasoning**: Government contract requirements, risk mitigation
**Alternatives Considered**: Post-development compliance retrofitting
**Status**: Approved

## Never Change
- Accessibility requirements (WCAG 2.1 AA)
- Multi-municipal scalability architecture
- Performance targets and monitoring
- Compounding engineering methodology
- Demo presentation requirements