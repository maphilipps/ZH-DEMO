Think carefully and only action the specific task I have given you with the most concise and elegant solution that changes as little code as possible. Analyze this code for performance issues and suggest optimizations:
