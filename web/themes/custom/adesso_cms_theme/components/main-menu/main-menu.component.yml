$schema: https://git.drupalcode.org/project/drupal/-/raw/10.1.x/core/modules/sdc/src/metadata.schema.json
name: Main Menu
description: Unified navigation system supporting desktop and mobile layouts with el-popover and el-dialog
status: stable
libraryOverrides:
  dependencies:
    - adesso_cms_theme/elements
props:
  type: object
  properties:
    # Layout and display properties
    layout:
      type: string
      title: Menu Layout
      description: Display layout for the menu system
      enum: [horizontal, vertical, mobile]
      default: horizontal
    variant:
      type: string
      title: Menu Variant
      description: Visual variant styling for the menu
      enum: [default, transparent]
      default: default
    show_mobile_toggle:
      type: boolean
      title: Show Mobile Toggle
      description: Whether to display the mobile menu toggle button
      default: true
    responsive_breakpoint:
      type: string
      title: Responsive Breakpoint
      description: CSS breakpoint for mobile/desktop switching
      enum: [sm, md, lg, xl]
      default: lg
    
    # Site branding properties (for header integration)
    logo:
      type: [string, "null"]
      title: Logo URL
      description: Logo URL from Drupal theme settings
      default: ''
    site_name:
      type: [string, "null"]
      title: Site Name
      description: Site name from Drupal configuration
      default: ''
    front_page:
      type: [string, "null"]
      title: Front Page URL
      description: Front page URL for logo link
      default: '/'
    show_logo:
      type: boolean
      title: Show Logo
      description: Whether to display the site logo
      default: false
      
    # Menu structure properties
    menu_name:
      type: string
      title: Menu Name
      description: Machine name of the Drupal menu to render
      default: main
    depth:
      type: integer
      title: Menu Depth
      description: Maximum depth of menu items to display
      default: 3
      minimum: 1
      maximum: 5
    nested:
      type: array
      title: Menu Items
      description: Processed menu structure for template rendering
      items:
        type: object
        properties:
          title:
            type: string
            title: Menu Item Title
          url:
            type: string
            title: Menu Item URL
          target:
            type: string
            title: Link Target
          is_active:
            type: boolean
            title: Is Active
            default: false
          in_active_trail:
            type: boolean
            title: In Active Trail
            default: false
          children:
            type: array
            title: Child Menu Items
            description: Submenu items for nested navigation
            items:
              $ref: "#/props/properties/nested/items"
              
    # Accessibility and interaction properties  
    aria_label:
      type: string
      title: ARIA Label
      description: Custom ARIA label for the navigation
      default: Main navigation
    keyboard_navigation:
      type: boolean
      title: Keyboard Navigation
      description: Enable enhanced keyboard navigation support
      default: true

slots:
  logo:
    title: 'Site Logo'
    description: 'Site logo and branding content'
    required: false
  menu_items:
    title: 'Menu Items'
    description: 'Navigation menu items content'
    required: true
  mobile_toggle:
    title: 'Mobile Toggle'
    description: 'Mobile menu toggle button content'
    required: false
  search:
    title: 'Search Widget'
    description: 'Search form or widget for navigation'
    required: false
  user_menu:
    title: 'User Menu'
    description: 'User account menu and login/logout options'
    required: false
  secondary_actions:
    title: 'Secondary Actions'
    description: 'Additional navigation actions (language switcher, etc.)'
    required: false
