{# /** * @file * Side by side paragraph template using paragraph-wrapper component with embed pattern. */ #} {#
Sidebyside paragraph configuration #} {% set wrapper_theme = paragraph.field_theme.value|default('default') %} {% set
wrapper_spacing = paragraph.field_spacing.value|default('medium') %} {% set wrapper_tag = 'section' %} {% set
wrapper_css_class = [ 'paragraph', 'paragraph--type--' ~ paragraph.bundle|clean_class, view_mode ?
'paragraph--view-mode--' ~ view_mode|clean_class, not paragraph.isPublished() ? 'paragraph--unpublished' ]|join(' ') %}
{# Process link field #} {% set link = content.field_link[0] ? { url: content.field_link[0]['#url'],
title: content.field_link[0]['#title'], } : {} %} {# Process features field #} {% set features = [] %}
{% if content.field_features %} {% for feature_item in content.field_features['#items'] %} {% set feature_entity =
feature_item.entity %} {% if feature_entity %} {% set feature_type = feature_entity.bundle() %} {% set feature_data = {
'type': feature_type } %} {# Process different feature types #} {% if feature_type == 'bullet' %} {% set feature_data =
feature_data|merge({ 'icon': feature_entity.field_icon.value, 'summary': feature_entity.field_summary.value }) %} {%
elseif feature_type == 'stats_item' %} {% set feature_data = feature_data|merge({ 'heading':
feature_entity.field_heading.value, 'body': feature_entity.field_body.value, 'icon': feature_entity.field_icon.value,
'media': feature_entity.field_media }) %} {% endif %} {% set features = features|merge([feature_data]) %} {% endif
%} {% endfor %} {% endif %} {# Embed the paragraph-wrapper component using slots #} {% embed
'adesso_cms_theme:paragraph-wrapper' with { theme: wrapper_theme, spacing: wrapper_spacing, tag: wrapper_tag, className:
wrapper_css_class, attributes: attributes } %} {% block prefix %}{% endblock %} {% block content %} 
{% embed 'adesso_cms_theme:sidebyside' with { 
  title: paragraph.field_title.value, 
  text: content.field_summary, 
  pre_headline: paragraph.field_pre_headline.value, 
  link: link, 
  layout: paragraph.field_sidebyside_layout.value ?? 'left', 
  features: features 
} only %}
  {% block media %}
    {# Use field template rendering instead of direct entity access - ABSTRACTION FIX #}
    {{ content.field_media }}
  {% endblock %}
{% endembed %}
{% endblock %} {% endembed %}
