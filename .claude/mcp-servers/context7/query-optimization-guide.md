# Context7 Query Optimization Guide for Municipal Portal Development

## Overview

This guide provides specific query patterns and optimization strategies for Context7 integration within Swiss municipal portal development using Drupal 11, Vite, Tailwind CSS v4, and Alpine.js.

## Municipal-Specific Query Templates

### Drupal 11 Municipal Queries

#### Content Architecture
```yaml
# Content modeling for municipal services
query_patterns:
  content_types: "drupal 11 content types municipal services event management for swiss municipal portal development"
  paragraph_types: "drupal paragraphs multilingual content structured layout for swiss municipal portal development meeting wcag 2.1 aa standards"
  taxonomy: "drupal 11 taxonomy municipal categories multilingual german french for swiss municipal portal development"
  
# Version-specific municipal AI integration  
ai_integration:
  drupal_ai: "drupal ai module 2.x integration patterns anthropic openai for swiss municipal portal development"
  vector_search: "drupal vector search milvus integration municipal content for swiss municipal portal development"
  content_generation: "drupal ai content generation compliance ch-dsg data protection for swiss municipal portal development"
```

#### Compliance and Accessibility
```yaml
accessibility:
  wcag_compliance: "drupal 11 wcag 2.1 aa accessibility municipal government for swiss municipal portal development"
  multilingual: "drupal multilingual content translation german french workflow for swiss municipal portal development" 
  security: "drupal 11 security hardening municipal data protection ch-dsg for swiss municipal portal development"

swiss_standards:
  ech_compliance: "drupal government portal eCH-0059 swiss standards implementation for swiss municipal portal development"
  gpzh_standards: "drupal canton zurich gpzh municipal compliance requirements for swiss municipal portal development"
  data_protection: "drupal ch-dsg data protection implementation municipal for swiss municipal portal development"
```

### Frontend Technology Stack Queries

#### Vite Integration with Drupal
```yaml
vite_drupal:
  theme_integration: "vite drupal 11 theme integration hot reload development setup for swiss municipal portal development"
  build_optimization: "vite production build drupal theme asset optimization for swiss municipal portal development meeting wcag 2.1 aa standards"
  ddev_integration: "vite ddev drupal development environment setup hot reload for swiss municipal portal development"
  
storybook_integration:
  component_development: "vite storybook drupal single directory components sdc for swiss municipal portal development"
  accessibility_testing: "storybook accessibility testing wcag 2.1 aa drupal components for swiss municipal portal development"
  municipal_design_system: "storybook design system municipal government components for swiss municipal portal development"
```

#### Tailwind CSS v4 Municipal Patterns
```yaml
tailwind_v4:
  drupal_integration: "tailwind css v4 drupal 11 theming configuration setup for swiss municipal portal development"
  accessibility_utilities: "tailwind css v4 accessibility utilities wcag 2.1 aa compliance for swiss municipal portal development"
  municipal_design: "tailwind css v4 government design system municipal branding for swiss municipal portal development"
  
responsive_design:
  mobile_first: "tailwind css v4 mobile first responsive design government accessibility for swiss municipal portal development"
  print_styles: "tailwind css v4 print stylesheet government documents accessibility for swiss municipal portal development"
  high_contrast: "tailwind css v4 high contrast mode accessibility wcag aaa for swiss municipal portal development"
```

#### Alpine.js Municipal Interactivity
```yaml
alpine_js:
  drupal_behaviors: "alpine js drupal behaviors integration theme development for swiss municipal portal development"
  accessibility_patterns: "alpine js accessibility patterns aria screen readers for swiss municipal portal development meeting wcag 2.1 aa standards"
  form_interactions: "alpine js drupal form enhancement municipal services for swiss municipal portal development"
  
municipal_features:
  service_finder: "alpine js municipal service finder accessibility navigation for swiss municipal portal development"
  event_calendar: "alpine js accessible event calendar drupal multilingual for swiss municipal portal development"
  document_search: "alpine js document search municipal accessibility keyboard navigation for swiss municipal portal development"
```

## Query Enhancement Strategies

### 1. Version Precision
```yaml
version_strategy:
  always_specify: true
  version_patterns:
    drupal: "drupal 11.{minor}.{patch}"
    vite: "vite {major}.{minor}.{patch}" 
    tailwind: "tailwind css v4.{minor}.{patch}"
    alpine: "alpine js {major}.{minor}.{patch}"
  
  example_enhanced_query: |
    Original: "vite drupal integration"
    Enhanced: "vite 5.1.4 drupal 11.0.5 theme integration hot reload for swiss municipal portal development"
```

### 2. Municipal Context Layering
```yaml
context_layers:
  base_context: "for swiss municipal portal development"
  compliance_layer: "meeting wcag 2.1 aa standards"
  government_layer: "adhering to swiss government requirements" 
  data_protection: "following ch-dsg data protection guidelines"
  multilingual: "supporting german french multilingual content"
  
  context_application: |
    Layer contexts based on query type:
    - Technical queries: base_context + compliance_layer
    - Accessibility queries: base_context + compliance_layer + government_layer
    - Content queries: all layers for comprehensive guidance
```

### 3. Performance-Optimized Queries
```yaml
performance_patterns:
  high_priority_queries:
    - accessibility_implementation
    - security_compliance  
    - multilingual_setup
    - performance_optimization
    
  cache_friendly_queries:
    - configuration_examples
    - best_practice_guides
    - architectural_patterns
    
  query_grouping:
    related_topics: "Group related queries to leverage Context7 context window"
    example: |
      Instead of separate queries for:
      1. "drupal 11 multilingual setup"
      2. "drupal 11 translation workflow"
      3. "drupal 11 language detection"
      
      Use combined query:
      "drupal 11 multilingual setup translation workflow language detection for swiss municipal portal development"
```

## Quality Assessment Criteria

### Context7 Response Evaluation
```yaml
quality_metrics:
  relevance_score:
    municipal_context: "Does response address municipal-specific requirements?"
    version_accuracy: "Are version-specific details correct and current?"
    compliance_coverage: "Are Swiss compliance requirements addressed?"
    
  completeness_score:
    implementation_steps: "Are concrete implementation steps provided?"
    configuration_examples: "Are working configuration examples included?"
    troubleshooting_info: "Are common issues and solutions covered?"
    
  municipal_alignment:
    accessibility_focus: "Is WCAG 2.1 AA compliance explicitly addressed?"
    multilingual_support: "Are German/French multilingual aspects covered?"
    government_standards: "Are Swiss government standards referenced?"
```

### Fallback Decision Matrix
```yaml
fallback_triggers:
  use_websearch_when:
    - Context7 response lacks municipal-specific context
    - Version information is outdated or incorrect
    - Accessibility compliance details are insufficient
    - Swiss-specific requirements are not addressed
    
  prefer_context7_when:
    - Official library documentation is needed
    - Configuration examples are required
    - Best practices from maintainers are sought
    - Version-specific API details are needed
    
  combined_approach_when:
    - Municipal implementation examples needed (WebSearch) + official docs (Context7)
    - Community solutions (WebSearch) + official validation (Context7)
    - Real-world case studies (WebSearch) + technical specifications (Context7)
```

## Municipal Compliance Query Patterns

### Swiss Government Standards
```yaml
ech_0059_queries:
  web_standards: "eCH-0059 web standards implementation drupal 11 government portal for swiss municipal portal development"
  accessibility: "eCH-0059 accessibility requirements wcag 2.1 aa drupal implementation for swiss municipal portal development"
  multilingual: "eCH-0059 multilingual requirements drupal content translation for swiss municipal portal development"

ch_dsg_compliance:
  data_protection: "ch-dsg data protection drupal 11 configuration privacy municipal for swiss municipal portal development"
  consent_management: "ch-dsg consent management drupal cookies privacy for swiss municipal portal development"
  data_processing: "ch-dsg data processing documentation municipal services drupal for swiss municipal portal development"
```

### Canton-Specific Requirements
```yaml
gpzh_queries:
  municipal_standards: "gpzh canton zurich municipal web standards drupal compliance for swiss municipal portal development"
  design_requirements: "gpzh municipal design system branding guidelines for swiss municipal portal development"
  service_integration: "gpzh municipal service integration apis drupal for swiss municipal portal development"

regional_adaptation:
  thalwil_specific: "thalwil municipal portal drupal customization local services for swiss municipal portal development"
  multi_municipality: "drupal 11 multi-municipality architecture shared resources for swiss municipal portal development"
  canton_variations: "drupal municipal portal canton-specific compliance variations for swiss municipal portal development"
```

## Implementation Integration

### Agent Coordination Queries
```yaml
agent_specific_queries:
  drupal_implementer: "drupal 11 step-by-step implementation municipal features for swiss municipal portal development"
  accessibility_specialist: "drupal wcag 2.1 aa implementation testing validation for swiss municipal portal development"
  frontend_architect: "vite tailwind alpine js drupal theme architecture for swiss municipal portal development"
  
  municipal_specialist: "swiss municipal compliance requirements implementation drupal for swiss municipal portal development"
  performance_optimizer: "drupal 11 performance optimization municipal scale caching for swiss municipal portal development"
```

This optimization guide ensures Context7 queries are specifically tailored for Swiss municipal portal development, maximizing the relevance and accuracy of documentation retrieval while maintaining compliance with government standards and accessibility requirements.