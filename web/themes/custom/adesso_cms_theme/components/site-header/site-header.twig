{#
 * @file
 * Site Header Component - Unified Navigation Architecture
 * Uses main-menu organism instead of implementing duplicate navigation logic
 * Implements Drupal SDC best practices and Tailwind v4 standards
 #}

{# Skip link for keyboard navigation #}
<a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 z-50 bg-indigo-600 text-white px-4 py-2 rounded-br-lg">
  {{ 'Skip to main content'|t }}
</a>

<header class="absolute inset-x-0 top-0 z-50" role="banner">
  <div class="flex items-center justify-between p-6 lg:px-8">
    
    {# Main Navigation - Delegated to main-menu organism #}
    {% include 'adesso_cms_theme:main-menu' with {
      layout: 'horizontal',
      variant: background_color == 'transparent' ? 'transparent' : 'default',
      show_mobile_toggle: true,
      responsive_breakpoint: 'lg',
      logo: logo,
      site_name: site_name,
      front_page: front_page,
      show_logo: show_logo,
      menu_name: 'main',
      depth: 3,
      nested: menu_items,
      aria_label: 'Main navigation',
      keyboard_navigation: true
    } only %}
    
    {# Additional Header Actions (Login, Search, etc.) #}
    {% if show_login_button or show_register_button or show_search %}
      <div class="hidden lg:flex lg:flex-1 lg:justify-end lg:gap-x-4">
        {% if show_search %}
          <button type="button" 
                  class="text-sm/6 font-semibold text-gray-900 hover:text-primary" 
                  aria-label="{{ 'Search'|t }}">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="size-5" aria-hidden="true">
              <path d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        {% endif %}
        
        {% if show_login_button %}
          <a href="/user/login" class="text-sm/6 font-semibold text-gray-900 hover:text-primary">
            {{ 'Log in'|t }} <span aria-hidden="true">â†’</span>
          </a>
        {% endif %}
        
        {% if show_register_button %}
          <a href="/user/register" class="text-sm/6 font-semibold text-gray-900 hover:text-primary">
            {{ 'Register'|t }}
          </a>
        {% endif %}
      </div>
    {% endif %}
    
  </div>
</header>
