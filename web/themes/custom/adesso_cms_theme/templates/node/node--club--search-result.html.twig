{#
/**
 * @file
 * Theme override for Club content type in search_result view mode.
 *
 * Available variables:
 * - node: The node entity with limited access to object properties and methods.
 * - label: (optional) The title of the node.
 * - content: All node items. Use {{ content }} to print them all,
 *   or print a subset such as {{ content.field_example }}.
 * - url: Direct URL of the current node.
 * - attributes: HTML attributes for the containing element.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - content_attributes: Same as attributes, except applied to the main
 *   content tag that appears in the template.
 * - author_attributes: Same as attributes, except applied to the author of
 *   the node tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 * - view_mode: View mode; for example, "full", "teaser", etc.
 * - teaser: Flag for the teaser state. Will be true if view_mode is 'teaser'.
 * - page: Flag for the full page state. Will be true if view_mode is 'full'.
 * - readmore: Flag for more state. Will be true if the teaser content of
 *   the node cannot hold the main body content.
 * - logged_in: Flag for authenticated user status. Will be true when the
 *   current user is a logged-in member.
 * - is_admin: Flag for admin user status. Will be true when the current user
 *   is an administrator.
 *
 * @see template_preprocess_node()
 */
#}

<article{{ attributes.addClass('search-result-card', 'search-result-card--club') }}
         itemscope
         itemtype="https://schema.org/SearchResult"
         role="article"
         aria-label="Search result: {{ label }}">

  {# Content Type Badge and Relevance Score #}
  <div class="search-result-header">
    <div class="content-type-badge badge badge--club" aria-label="Content type: Club">
      Verein
    </div>
    
    {# AI Relevance Score placeholder - will be enhanced later #}
    <div class="relevance-score"
         role="meter"
         aria-valuemin="0"
         aria-valuemax="100"
         aria-valuenow="95"
         aria-label="AI relevance score: 95 percent match">
      95% Match
    </div>
  </div>

  {# Title with link #}
  {{ title_prefix }}
  {% if label %}
    <h3{{ title_attributes.addClass('search-result-title') }}>
      <a href="{{ url }}" class="search-result-link" rel="bookmark" aria-describedby="excerpt-{{ node.id }}">
        {{ label }}
      </a>
    </h3>
  {% endif %}
  {{ title_suffix }}

  {# Taxonomy: Directory Category #}
  {% if content.field_directory_category %}
    <div class="taxonomy-directory-category" role="list" aria-label="Directory categories">
      {{ content.field_directory_category }}
    </div>
  {% endif %}

  {# Body excerpt #}
  {% if content.body %}
    <div class="search-result-excerpt" id="excerpt-{{ node.id }}">
      {{ content.body }}
    </div>
  {% endif %}

  {# Municipal verification badge #}
  <div class="search-result-footer">
    <div class="municipal-badge verified" aria-label="Verified by municipality">
      <span class="sr-only">Verified by</span>
      Gemeinde Bruchtal
    </div>
  </div>

</article>