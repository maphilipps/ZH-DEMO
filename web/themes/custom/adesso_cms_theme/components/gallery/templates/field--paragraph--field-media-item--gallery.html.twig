{#
/**
 * @file
 * Theme override for the media field in gallery paragraphs.
 *
 * Integrates media items with the gallery-item SDC component.
 */
#}
{% if items %}
  {% for delta, item in items %}
    {# Access the media entity and render it using the 16:9 medium view mode for consistent aspect ratio #}
    {% set media = item.content['#media'] %}
    {% set rendered_image = media|view('16_9_medium')|render %}
    
    {# Simply render the media item directly through the component #}
    {% set gallery_item = {
      id: 'gallery-item-' ~ delta,
      media_thumb: rendered_image,
      media_description: media.name.value|default('Gallery image')
    } %}
    
    {# Render using the gallery-item component #}
    {% include 'adesso_cms_theme:gallery-item' with {
      item: gallery_item
    } %}
  {% endfor %}
{% endif %}