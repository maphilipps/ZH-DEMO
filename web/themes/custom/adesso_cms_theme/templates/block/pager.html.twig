{#
/**
 * @file
 * Default theme implementation to display a pager.
 *
 * Available variables:
 * - heading_id: Pagination heading ID.
 * - pagination_heading_level: The heading level to use for the pager.
 * - items: List of pager items.
 *   The list is keyed by the following elements:
 *   - first: Item for the first page; not present on the first page of results.
 *   - previous: Item for the previous page; not present on the first page
 *     of results.
 *   - next: Item for the next page; not present on the last page of results.
 *   - last: Item for the last page; not present on the last page of results.
 *   - pages: List of pages, keyed by page number.
 *   Sub-sub elements:
 *   items.first, items.previous, items.next, items.last, and each item inside
 *   items.pages contain the following elements:
 *   - href: URL with appropriate query parameters for the item.
 *   - attributes: A keyed list of HTML attributes for the item.
 *   - text: The visible text used for the item link, such as "‹ Previous"
 *     or "Next ›".
 * - current: The page number of the current page.
 * - ellipses: If there are more pages than the quantity allows, then an
 *   ellipsis before or after the listed pages may be present.
 *   - previous: Present if the currently visible list of pages does not start
 *     at the first page.
 *   - next: Present if the visible list of pages ends before the last page.
 *
 * @see template_preprocess_pager()
 *
 * @ingroup themeable
 */
#}
{% if items %}
  {% set first = items.pages|first %}
  {% set last = items.pages|last %}
  {% set total = items.pages|length %}

  {% if current <= 3 %}
    {% set pages = items.pages|slice(0, 4, true) %}
  {%  elseif current >= total - 2  %}
    {% set pages = items.pages|slice(current - 2, total, true) %}
  {%  else %}
    {% set pages = items.pages|slice(current - 2, 3, true) %}
  {% endif %}

  <nav class="pager col-span-full pager hidden md:grid justify-center items-center" role="navigation" aria-labelledby="{{ heading_id }}">
    <{{ pagination_heading_level }} id="{{ heading_id }}" class="visually-hidden sr-only"">{{ 'Pagination'|t }}</{{ pagination_heading_level }}>
    <ul class="pager__items js-pager__items inline-flex space-x-3 font-bold">

      {# Print previous item if we are not on the first page. #}
      <li class="pager__item pager__item--previous flex items-center">
        {% if items.previous %}
          <a href="{{ items.previous.href }}" aria-hidden="true" title="{{ 'Go to previous page'|t }}" rel="prev"{{ items.previous.attributes|without('href', 'title', 'rel').addClass('bg-blue-70 text-white h-12 w-12 flex items-center justify-center
             focus-visible:outline-blue-70 focus-visible:outline-2 focus-visible:outline-dotted focus-visible:outline-offset-0') }}>
            <span class="visually-hidden sr-only">{{ 'Previous page'|t }}</span>
            <svg class="size-6 svg-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
          </a>
        {% else %}
          <span class="bg-natural-gray-5 text-natural-gray-4 h-12 w-12 flex items-center justify-center">
              <svg class="size-6 svg-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
              <span class="sr-only">{{ 'Previous page'|t }}</span>
            </span>
        {% endif %}
      </li>

      {% if current >= 4 %}
        {# Print first item if we are not on the first page. #}
        <li class="pager__item pager__item--first">
          <a href="{{ first.href }}"
             aria-label="{ 'Go to first page'|t }}" {{ items.first.attributes|without('href', 'title').addClass('bg-white border border-transparent hover:border-blue-medium text-black hover:underline
           leading-tight py-2 px-3 h-12 w-12 flex items-center justify-center
           focus-visible:outline-blue-70 focus-visible:outline-2 focus-visible:outline-dotted focus-visible:outline-offset-0') }}>
            <span class="visually-hidden sr-only">{{ 'First page'|t }}</span>
            1
          </a>
        </li>

        <li class="flex items-center">...</li>
      {% endif %}

      {# Now generate the actual pager piece. #}
      {% for key, item in pages %}
        <li class="pager__item{{ current == key ? ' is-active' : '' }}">
          {% if current == key %}
            {% set title = 'Current page'|t %}
          {% else %}
            {% set title = 'Go to page @key'|t({'@key': key}) %}
          {% endif %}

          {% if current != key %}
            <a href="{{ item.href }}" title="{{ title }}"{{ item.attributes|without('href', 'title').addClass('bg-white border border-transparent hover:border-blue-medium text-black hover:underline
                   leading-tight py-2 px-4 h-12 flex items-center justify-center
                   focus-visible:outline-blue-70 focus-visible:outline-2 focus-visible:outline-dotted focus-visible:outline-offset-0') }}>
                <span class="visually-hidden sr-only">
                  {{- 'Page'|t -}}
                </span>
              {{- key -}}
            </a>
          {% else %}
            <span title="{{ title }}" class="py-2 px-4 bg-blue-medium underline border border-blue-medium h-12 flex items-center justify-center">{{ key }}</span>
          {% endif %}
        </li>
      {% endfor %}

      {% if current < total - 2 %}
        <li class="flex items-center">...</li>

        {# Print last item if we are not on the last page. #}
        <li class="pager__item pager__item--last">
            <a
              href="{{ last.href }}"
              aria-label="{ 'Go to last page'|t }}" {{ items.last.attributes|without('href', 'title').addClass('bg-white border border-transparent hover:border-blue-medium text-black hover:underline
             leading-tight py-2 px-3 h-12 w-12 flex items-center justify-center
             focus-visible:outline-blue-70 focus-visible:outline-2 focus-visible:outline-dotted focus-visible:outline-offset-0') }}>
              <span class="sr-only" aria-hidden="true">{{ 'Last page'|t }}</span>
              {{ total }}
            </a>
        </li>
      {% endif %}

      {# Print next item if we are not on the last page. #}
      <li class="pager__item pager__item--next flex items-center">
        {% if items.next %}
          <a href="{{ items.next.href }}"
             title="{{ 'Go to next page'|t }}"
             rel="next"{{ items.next.attributes|without('href', 'title', 'rel').addClass('bg-blue-70 text-white h-12 w-12 flex items-center justify-center
             focus-visible:outline-blue-70 focus-visible:outline-2 focus-visible:outline-dotted focus-visible:outline-offset-0') }}>
            <span class="visually-hidden sr-only" aria-hidden="true">{{ 'Next page'|t }}</span>
            <svg class="size-6 svg-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </a>
        {% else %}
          <span class="bg-natural-gray-5 text-natural-gray-4 h-12 w-12 flex items-center justify-center">
            <svg class="size-6 svg-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
            <span class="sr-only">{{ 'Next page'|t }}</span>
          </span>
        {% endif %}
      </li>
    </ul>
  </nav>
{% endif %}

{% set pagination = {items: items|default([])|merge({
  currentPage: current,
  totalPages: items.pages|default([])|length,
})} %}

{% if pagination.items.totalPages %}
{#  {{ include('@module/pagination.html.twig', {}) }}#}
{#  {{ include('@module/pagination-mobile.html.twig', {}) }}#}

  <div class="h-12"></div>
{% endif %}
