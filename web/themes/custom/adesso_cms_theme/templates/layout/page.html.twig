{#
/**
 * @file
 * Theme override to display a single page.
 *
 * The doctype, html, head and body tags are not in this template. Instead they
 * can be found in the html.html.twig template in this directory.
 *
 * @see template_preprocess_page()
 * @see html.html.twig
 */
#}

{# Skip Links - WCAG Compliance #}
<nav aria-label="{{ 'Skip navigation'|t }}" class="skip-links">
  <a href="#main-content" class="skip-link">
    {{ 'Skip to main content'|t }}
  </a>
  {% if page.header_left or page.header_right %}
    <a href="#site-navigation" class="skip-link">
      {{ 'Skip to navigation'|t }}
    </a>
  {% endif %}
  {% if page.footer %}
    <a href="#site-footer" class="skip-link">
      {{ 'Skip to footer'|t }}
    </a>
  {% endif %}
</nav>

<div class="min-h-dvh flex flex-col">
  {# Video hero detection - simplified for now, block system handles header logic #}
  {% set has_video_hero = false %}

  {# Header with integrated navigation - now simplified, page headers handled by block system #}
  {% if page.header or page.primary_menu or page.secondary_menu %}
    <header id="site-navigation"
            class="site-header bg-white border-b border-gray-200 dark:bg-gray-900 dark:border-gray-700" role="banner">
      <div class="mx-auto container px-4 lg:px-6 py-8">
        <div class="flex items-center justify-between">

          {# Left side: Logo and branding #}
          <div class="flex items-center">
            {% if page.header %}
              {{ page.header }}
            {% endif %}
          </div>

          {# Right side: Navigation and utilities #}
          <div class="flex items-center gap-4">
            {% if page.primary_menu %}
              {{ page.primary_menu }}
            {% endif %}
            {% if page.secondary_menu %}
              {{ page.secondary_menu }}
            {% endif %}
          </div>

        </div>
      </div>
    </header>
  {% endif %}

  {# Live region for navigation state announcements #}
  <div id="nav-announcements" class="sr-only" aria-live="polite" aria-atomic="true"></div>

  {# Hero region (full width) #}
  {% if page.hero %}
    <div class="hero-region">
      {{ page.hero }}
    </div>
  {% endif %}

  {# Highlighted Region #}
  {% if page.highlighted %}
    <div class="highlighted-region">
      {{ page.highlighted }}
    </div>
  {% endif %}

  {# Breadcrumb region #}
  {% if page.breadcrumb %}
    <div class="breadcrumb-region">
      {{ page.breadcrumb }}
    </div>
  {% endif %}

  {# Content Above region #}
  {% if page.content_above %}
    <div class="content-above-region">
      {{ page.content_above }}
    </div>
  {% endif %}


  {# Main Content #}
  <main role="main" id="main-content" class="flex-1" tabindex="-1">
    <div class="layout-content">
      {% if page.sidebar %}
        <div class="layout-container">
          <div id="content" class="layout-main">
            {{ page.content }}
          </div>
          <aside class="layout-sidebar">
            {{ page.sidebar }}
          </aside>
        </div>
      {% else %}
        <div id="content">
          {{ page.content }}
        </div>
      {% endif %}
    </div>
  </main>

  {# Content Below region #}
  {% if page.content_below %}
    <div class="content-below-region">
      {{ page.content_below }}
    </div>
  {% endif %}

  {# Footer Regions #}

  <div class="container px-6 py-12 md:flex md:items-center md:justify-between">
    {% if page.footer_top %}
      <div class="footer-top-region">
        {{ page.footer_top }}
      </div>
    {% endif %}
    {% if page.footer_bottom %}
      <div class="footer-bottom-region">
        {{ page.footer_bottom }}
      </div>
    {% endif %}
  </div>

</div>{# /.layout-container #}
